<div class="container">
    <h3>Family Members:</h3>

    <button class="btn btn-primary btn-block mb-3" (click)="showAddForms()">New  Member</button>
    
    <div class="card card-body mb-2" *ngIf="hide">
        <form #memberForm="ngForm" (ngSubmit)="onSubmit(memberForm)">
            <div class="form-group">
                <label for="title">Title :</label>
                <input id="title" 
                [(ngModel)]="newMember.title" 
                [ngModelOptions]="{standalone: true}" 
                type="text" 
                name="title"
                class="form-control mb-2"
                #memberTitle="ngModel"
                [ngClass]="{'is-invalid':memberTitle.errors && memberTitle.touched}"
                required
                minlength="3"
                >  
                <div [hidden]="!memberTitle.errors?.required" class="invalid-feedback">
                 Title is required   
                </div>
                <div [hidden]="!memberTitle.errors?.minlength" class="invalid-feedback">
                 Must be at least 3 characters
                </div>
            </div>
            
            <div class="form-group">
                <label for="firstName">First Name :</label>
                <input id="firstName" [(ngModel)]="newMember.firstName" [ngModelOptions]="{standalone: true}" type="text" class="form-control mb-2">
            </div>

            <div class="form-group">
                <label for="lastName">Last Name :</label>
                <input id="LastName" [(ngModel)]="newMember.lastName" [ngModelOptions]="{standalone: true}" type="text" class="form-control mb-2">
            </div>
            
            <div class="form-group">
                <label for="age">Age :</label>
                <input id="age" [(ngModel)]="newMember.age" type="text" [ngModelOptions]="{standalone: true}" class="form-control mb-2">
            </div>
            
            <div class="form-group">
                <label for="job">Job :</label>
                <input id="job" [(ngModel)]="newMember.job" type="text" [ngModelOptions]="{standalone: true}" class="form-control mb-2">
            </div>
            
            <div class="form-group">
                <label for="kids">Kids :</label>
                <input id="kids" [(ngModel)]="newMember.kids" type="text" [ngModelOptions]="{standalone: true}" class="form-control mb-2">
            </div>
            
            <button [disabled]="!memberForm.form.valid" class="btn btn-success btn-block mb-2" (click)="addMember()">Add new
            Member</button>
        </form>
     
    </div>

    

    <ul class="list-group">
        <li class=" card card-body mb-3" *ngFor="let member of members" [class.bg-light]="member.details"
            [style.border-color]="member.details ? 'red' : ''">
            <h4><span [class.text-warning]="member.details">{{ member.title | uppercase}}: </span>{{member.firstName}}
                {{member.lastName}} <small><button (click)="show(member)" class="btn btn-secondary btn-sm"><i
                            [ngClass]="member.details ? 'fa fa-minus' : 'fa fa-plus'"></i></button></small></h4>
            <ul *ngIf="member.details">
                <li class="list-group-item">Age: {{member.age}}</li>
                <li class="list-group-item">Job: {{member.job}}</li>
                <li class="list-group-item"> Kids: {{member.kids}}</li>
                <li class="list-group-item"> email: {{member.email}}</li>
            </ul>
        </li>
    </ul>
</div>